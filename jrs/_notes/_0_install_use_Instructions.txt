
############## The commands in this section are used to install the libraries ####################


# I happen to be using Ubuntu on WSL.
# To install this fork of LightRAG run the following script:
# jrs/_notes/setup.sh
# Be sure to read and understand the script before using it.


# After running the script, do the following to continue setting up the LightRAG library:

# Add your API keys to the .env file."
# Or for better security, add API keys to your .bashrc file instead."
# No matter where you decide to put your API keys, you will still need a .env file for other required settings"
# If you prefer, you can use the .env file I have in the "LightRAG/jrs/_notes" directory which is working for me."
# Just copy that file to the LightRAG folder."


To use LightRAG, run these commands:
  1. cd LightRAG

  2. source .venv/bin/activate
  This activates the virtual environment.

  3. export PS1='(.venv) \w\$ '
  This creates a better looking prompt that takes up less space on the screen.

  4. lightrag-server
  This starts the server.

  5. Visit: http://localhost:9621/webui/
  This WebUI is where you interact with the server.

  6. You can interact directly with LightRAG using the
     Python scripts in the jrs directory without the need
     for the lightrag server or the WebUI


############## The commands is this section are for running the scripts in this repository ####################


# To index documents so that the information is available for query, or to run a query, use the following commands at the bash terminal.

# Navigate to the LightRAG directory.
cd LightRAG

# Activate the LightRAG virtual environment with the following command.
source .venv/bin/activate

# Creates a better looking prompt that takes up less space on the screen.
export PS1='(.venv) \w\$ '


# To index the document of interest.
# First index the metadata json file if any with the following script:
jrs/_1_custom_index_01.py
# Open the script in your text editor.
nano jrs/_1_custom_index_01.py

# Specify the WORKING_DIR where you wish to have the index created.
# This is where all the files for the knowledge graph, vector database, and supporting files will reside.
# Below is an example of what you might specify inside the file.
WORKING_DIR = "/home/js/LightRAG/jrs/work/_0_seheult_work_dir"

# Specify the json files to be indexed.
# Below is an example of what you might specify inside the file.
# You can specify as many documents as you want in the list.
files_2b_indexed = [
    "/home/js/LightRAG/jrs/work/_0_seheult_metadata/_bNySyEobfY_metadata.json",
    "/home/js/LightRAG/jrs/work/_0_seheult_metadata/0m1Qekrfs7w_metadata.json",
]

# Then run the script with the following command:
python3 jrs/_1_custom_index_01.py

# Now you have some metadata in your knowledge graph and vector database.
# This is information about the YouTube videos from which transcripts were created.
# This is information like YouTube channel, Video title, posting date, and so on.


# Now we want to index the transcripts so that we can see their knowledge graphs and so that we can talk to an a.i. about them.

# The following script is used for indexing text, images, equations, and tables in your documents:
# jrs/_1_ra_index.py
# To see how to use the script and what arguments must be supplied, run the following command:
python3 jrs/_1_ra_index.py --help

# Then index the text, images, equations, and tables in your document with the following command:
python3 jrs/_1_ra_index.py <your arguments here>

# Text only documents can be indexed using the LightRAG server and the WebUI.

# Index the document and it's metadata first in its own individual directory before indexing it with other documents.
# Then examine the index with the following GUI to determine misspellings and duplicate entities with minor spelling differences:
python3 /home/js/LightRAG/jrs/_1_merge_GUI_58.py
# Fix all of the spelling errors in the orignial documents and consolidate the spellings of names and other entities.
# Look for in the _0_sample_data folder for detailed notes on cleaning up dirty data.

# To query your indexes use the following commands.

# Navigate to the LightRAG directory.
cd LightRAG

# Activate the LightRAG virtual environment with the following command.
source .venv/bin/activate

# Create a better looking prompt
export PS1='(.venv) \w\$ '

# If your indexes contain text only, it is best to use the LightRAG Server and the WebUI for running your queries.
# If your indexes contain text only and you need to run the query for several modes (naive, local, global, hybrid, or mix) then use the following script:
python3 jrs/_2_ra_query_text.py --help
python3 jrs/_2_ra_query_text.py <your arguments here>

# If your indexes contain text, equations, images, or tables then the following script is the best tool for the job.
python3 jrs/_2_ra_query_image.py --help
python3 jrs/_2_ra_query_image.py <your arguments here>


# WSL Networking:
# In WSL, you may need to access the server from Windows.
# To do this, find the WSL IP address with the following bash command:
ip addr show eth0 | grep inet
# Look for an IP like 172.x.x.x.
You can access the WebUI from a Windows browser at http://<WSL_IP>:9621 (replace <WSL_IP> with the actual IP).

Have Fun!
